<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        let restcountriesurl=`https://restcountries.com/v2/all`
        async function getDetails(){
            let data=await fetch(restcountriesUrl)
            let res= awaitdata.json()
            console.log(res)
            //1st index
            let lat=res[0].latlng[0]
            let lon=res[0].latlng[1]
            console.log("Lat:",lat,"Lon:",lon)
            let weatherDataUr=`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon={lon}&appid=${apiKey}`
            let data1=await fetch(weatherDataUrl)
            let res1=await data1.json()
            console.log(res1)
        }
        getDetails()

        //using promises

        let extractRestCountriesData=fetch(restCountriesUrl)
        extractRestCountriesData.then(data=>data.json()).then(res=>{
            console.log(res)
            let lat=res[0].latlng[0]
            let lon=res[0].latlng[1]
            console.log("Lat:",lat,"Lon:",lon)
            let weatherDataUr=`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon={lon}&appid=${apiKey}`
            
            fetch(weatherDataUrl).then(res1=>res1.json()).then(data1=>console.log(data1))
        })

    </script>
</body>
</html>